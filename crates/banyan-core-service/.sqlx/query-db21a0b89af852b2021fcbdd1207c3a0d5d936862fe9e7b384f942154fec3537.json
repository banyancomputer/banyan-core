{
  "db_name": "SQLite",
  "query": "\n                SELECT IFNULL(u.earned_tokens - IFNULL(SUM(s.tokens_used), 0), 0)\n                FROM snapshots AS s \n                JOIN metadata AS m ON m.id = s.metadata_id\n                JOIN buckets AS b ON b.id = m.bucket_id\n                JOIN users AS u ON u.id = b.user_id\n                WHERE u.id = $1\n                AND s.state = $2;\n            ",
  "describe": {
    "columns": [
      {
        "name": "IFNULL(u.earned_tokens - IFNULL(SUM(s.tokens_used), 0), 0)",
        "ordinal": 0,
        "type_info": "Int"
      }
    ],
    "parameters": {
      "Right": 2
    },
    "nullable": [
      false
    ]
  },
  "hash": "db21a0b89af852b2021fcbdd1207c3a0d5d936862fe9e7b384f942154fec3537"
}
